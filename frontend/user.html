<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard | Queue Management</title>
    <link rel="stylesheet" href="user.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body class="light-mode">
    <!-- Theme Toggle -->
    <div class="theme-toggle">
        <button id="themeToggle">
            <i class="fas fa-moon"></i>
            <span>Dark Mode</span>
        </button>
    </div>

    <!-- Navigation Sidebar -->
    <nav class="sidebar">
        <div class="logo">
            <i class="fas fa-shield-alt"></i>
            <span>QueueFlow</span>
        </div>
        
        <div class="user-profile">
            <div class="avatar">
                <i class="fas fa-user-circle"></i>
            </div>
            <div class="user-info">
                <h3>John Doe</h3>
                <p>User Account</p>
            </div>
            <div class="status-indicator"></div>
        </div>

        <div class="nav-menu">
            <a href="#" class="nav-item active">
                <i class="fas fa-home"></i>
                <span>Dashboard</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-search"></i>
                <span>Find Queues</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-history"></i>
                <span>History</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-question-circle"></i>
                <span>Help</span>
            </a>
        </div>

        <div class="quick-stats">
            <div class="stat-item">
                <span class="stat-number">12</span>
                <span class="stat-label">Active Queues</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">47</span>
                <span class="stat-label">Total Joined</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">3</span>
                <span class="stat-label">Pending</span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header with Search -->
        <header class="header">
            <div class="header-left">
                <h1>Queue Dashboard</h1>
                <p>Manage and join queues efficiently</p>
            </div>
            <div class="header-right">
                <div class="notification-bell">
                    <i class="fas fa-bell"></i>
                    <span class="notification-count">3</span>
                </div>
                <button class="btn-create">
                    <i class="fas fa-plus"></i>
                    Create Queue
                </button>
            </div>
        </header>

        <!-- Search Section -->
        <section class="search-section">
            <div class="search-container">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="queueIdSearch" placeholder="Paste Queue ID or search by name...">
                    <button class="btn-search" id="searchBtn">
                        <i class="fas fa-arrow-right"></i>
                        Search
                    </button>
                </div>
                <p class="search-hint">
                    <i class="fas fa-info-circle"></i>
                    Enter a Queue ID to join or search for available queues
                </p>
            </div>
        </section>

        <!-- Search Results (Initially Hidden) -->
        <section class="search-results" id="searchResults">
            <div class="section-header">
                <h2>Search Results</h2>
                <span class="result-count">3 queues found</span>
            </div>
            <div class="results-grid" id="resultsGrid">
                <!-- Search results will be dynamically inserted here -->
                <!-- In production: Fetch from database -->
            </div>
            <div class="no-results" id="noResults">
                <i class="fas fa-search"></i>
                <h3>No queues found</h3>
                <p>Try searching with a different Queue ID or keyword</p>
            </div>
        </section>

        <!-- Current Queues Section -->
        <section class="queues-section">
            <div class="section-header">
                <h2>Current Queues</h2>
                <div class="section-actions">
                    <button class="btn-refresh">
                        <i class="fas fa-sync-alt"></i>
                        Refresh
                    </button>
                    <span class="queue-count">4 active queues</span>
                </div>
            </div>

            <div class="queues-list">
                <!-- Queue Card 1 -->
                <div class="queue-card active">
                    <div class="queue-icon">
                        <i class="fas fa-file-medical"></i>
                    </div>
                    <div class="queue-info">
                        <h3>Health Checkup #245</h3>
                        <p>General physician consultation queue</p>
                        <div class="queue-meta">
                            <span class="meta-item">
                                <i class="fas fa-users"></i>
                                12 people ahead
                            </span>
                            <span class="meta-item">
                                <i class="fas fa-clock"></i>
                                ~45 min wait
                            </span>
                            <span class="meta-item">
                                <i class="fas fa-map-marker-alt"></i>
                                City Hospital
                            </span>
                        </div>
                    </div>
                    <div class="queue-actions">
                        <span class="queue-status active">Active</span>
                        <button class="btn-view" data-queue="1">
                            <i class="fas fa-eye"></i>
                            View Details
                        </button>
                    </div>
                </div>

                <!-- Queue Card 2 -->
                <div class="queue-card">
                    <div class="queue-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <div class="queue-info">
                        <h3>Student Registration</h3>
                        <p>Fall 2024 enrollment verification queue</p>
                        <div class="queue-meta">
                            <span class="meta-item">
                                <i class="fas fa-users"></i>
                                8 people ahead
                            </span>
                            <span class="meta-item">
                                <i class="fas fa-clock"></i>
                                ~25 min wait
                            </span>
                            <span class="meta-item">
                                <i class="fas fa-map-marker-alt"></i>
                                Admin Building
                            </span>
                        </div>
                    </div>
                    <div class="queue-actions">
                        <span class="queue-status">Waiting</span>
                        <button class="btn-view" data-queue="2">
                            <i class="fas fa-eye"></i>
                            View Details
                        </button>
                    </div>
                </div>

                <!-- Queue Card 3 -->
                <div class="queue-card">
                    <div class="queue-icon">
                        <i class="fas fa-credit-card"></i>
                    </div>
                    <div class="queue-info">
                        <h3>Bank Service Counter</h3>
                        <p>New account opening queue at main branch</p>
                        <div class="queue-meta">
                            <span class="meta-item">
                                <i class="fas fa-users"></i>
                                5 people ahead
                            </span>
                            <span class="meta-item">
                                <i class="fas fa-clock"></i>
                                ~20 min wait
                            </span>
                            <span class="meta-item">
                                <i class="fas fa-map-marker-alt"></i>
                                Downtown Branch
                            </span>
                        </div>
                    </div>
                    <div class="queue-actions">
                        <span class="queue-status">Almost There</span>
                        <button class="btn-view" data-queue="3">
                            <i class="fas fa-eye"></i>
                            View Details
                        </button>
                    </div>
                </div>

                <!-- Queue Card 4 -->
                <div class="queue-card">
                    <div class="queue-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <div class="queue-info">
                        <h3>Tech Support</h3>
                        <p>IT helpdesk support queue</p>
                        <div class="queue-meta">
                            <span class="meta-item">
                                <i class="fas fa-users"></i>
                                3 people ahead
                            </span>
                            <span class="meta-item">
                                <i class="fas fa-clock"></i>
                                ~15 min wait
                            </span>
                            <span class="meta-item">
                                <i class="fas fa-map-marker-alt"></i>
                                IT Department
                            </span>
                        </div>
                    </div>
                    <div class="queue-actions">
                        <span class="queue-status">Next Up</span>
                        <button class="btn-view" data-queue="4">
                            <i class="fas fa-eye"></i>
                            View Details
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recent Queues Section -->
        <section class="recent-section">
            <div class="section-header">
                <h2>Recent Queues</h2>
                <a href="#" class="view-all">
                    View All
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>

            <div class="recent-grid">
                <!-- Recent Queue Card 1 -->
                <div class="recent-card">
                    <div class="recent-header">
                        <div class="recent-icon completed">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="recent-title">
                            <h3>Vaccination Drive</h3>
                            <p>Completed • 2 hours ago</p>
                        </div>
                    </div>
                    <div class="recent-body">
                        <p>Annual flu vaccination program at community center</p>
                        <div class="recent-meta">
                            <span>Queue ID: VAC-7892</span>
                            <span>Wait time: 30 mins</span>
                        </div>
                    </div>
                    <div class="recent-footer">
                        <button class="btn-secondary">
                            <i class="fas fa-redo"></i>
                            Join Again
                        </button>
                    </div>
                </div>

                <!-- Recent Queue Card 2 -->
                <div class="recent-card">
                    <div class="recent-header">
                        <div class="recent-icon cancelled">
                            <i class="fas fa-times-circle"></i>
                        </div>
                        <div class="recent-title">
                            <h3>Library Book Return</h3>
                            <p>Cancelled • Yesterday</p>
                        </div>
                    </div>
                    <div class="recent-body">
                        <p>Book return and fine payment queue at main library</p>
                        <div class="recent-meta">
                            <span>Queue ID: LIB-4561</span>
                            <span>Wait time: 15 mins</span>
                        </div>
                    </div>
                    <div class="recent-footer">
                        <button class="btn-secondary">
                            <i class="fas fa-redo"></i>
                            Join Again
                        </button>
                    </div>
                </div>

                <!-- Recent Queue Card 3 -->
                <div class="recent-card">
                    <div class="recent-header">
                        <div class="recent-icon completed">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="recent-title">
                            <h3>Passport Renewal</h3>
                            <p>Completed • 3 days ago</p>
                        </div>
                    </div>
                    <div class="recent-body">
                        <p>Passport renewal application queue at government office</p>
                        <div class="recent-meta">
                            <span>Queue ID: PAS-1234</span>
                            <span>Wait time: 1 hour</span>
                        </div>
                    </div>
                    <div class="recent-footer">
                        <button class="btn-secondary">
                            <i class="fas fa-redo"></i>
                            Join Again
                        </button>
                    </div>
                </div>

                <!-- Recent Queue Card 4 -->
                <div class="recent-card">
                    <div class="recent-header">
                        <div class="recent-icon left">
                            <i class="fas fa-sign-out-alt"></i>
                        </div>
                        <div class="recent-title">
                            <h3>Car Service</h3>
                            <p>Left Queue • 1 week ago</p>
                        </div>
                    </div>
                    <div class="recent-body">
                        <p>Vehicle maintenance and service queue at auto center</p>
                        <div class="recent-meta">
                            <span>Queue ID: CAR-9876</span>
                            <span>Wait time: 45 mins</span>
                        </div>
                    </div>
                    <div class="recent-footer">
                        <button class="btn-secondary">
                            <i class="fas fa-redo"></i>
                            Join Again
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Queue Details Modal -->
        <div class="modal-overlay" id="queueModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Queue Details</h2>
                    <button class="modal-close" id="closeModal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="queue-detail-header">
                        <div class="detail-icon">
                            <i class="fas fa-file-medical"></i>
                        </div>
                        <div class="detail-title">
                            <h3 id="modalQueueName">Health Checkup #245</h3>
                            <p id="modalQueueDesc">General physician consultation queue</p>
                        </div>
                        <span class="detail-status active" id="modalQueueStatus">Active</span>
                    </div>

                    <div class="detail-info">
                        <div class="info-row">
                            <div class="info-item">
                                <i class="fas fa-hashtag"></i>
                                <div>
                                    <small>Queue ID</small>
                                    <p id="modalQueueId">QUE-245</p>
                                </div>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <div>
                                    <small>Location</small>
                                    <p id="modalQueueLocation">City Hospital, Main Building</p>
                                </div>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-user-md"></i>
                                <div>
                                    <small>Service Provider</small>
                                    <p id="modalQueueProvider">City Medical Center</p>
                                </div>
                            </div>
                        </div>

                        <div class="info-row">
                            <div class="info-item">
                                <i class="fas fa-users"></i>
                                <div>
                                    <small>Position in Queue</small>
                                    <p id="modalQueuePosition">12th</p>
                                </div>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-clock"></i>
                                <div>
                                    <small>Estimated Wait Time</small>
                                    <p id="modalQueueWait">~45 minutes</p>
                                </div>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-calendar-alt"></i>
                                <div>
                                    <small>Joined At</small>
                                    <p id="modalQueueJoined">Today, 10:30 AM</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="progress-container">
                        <div class="progress-header">
                            <span>Queue Progress</span>
                            <span id="progressText">12/50 people served</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="queueProgress" style="width: 24%"></div>
                        </div>
                    </div>

                    <div class="detail-actions">
                        <button class="btn-secondary">
                            <i class="fas fa-share"></i>
                            Share Queue
                        </button>
                        <button class="btn-primary">
                            <i class="fas fa-bell"></i>
                            Notify Me
                        </button>
                        <button class="btn-danger" id="leaveQueueBtn">
                            <i class="fas fa-sign-out-alt"></i>
                            Leave Queue
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Floating Action Button -->
    <button class="fab" id="helpFab">
        <i class="fas fa-question"></i>
    </button>

    <script src="user.js"></script>
</body>
</html>